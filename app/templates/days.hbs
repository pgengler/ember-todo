{{#view "nav"}}
{{date-picker-icon action="changeDate"}}
{{/view}}
<div class="days">
	{{#each day in controller}}
	<div {{bind-attr class=":task-list :spec-day day.isPast:past day.isCurrent:current day.isFuture:future day.hasUnfinishedTasks"}}>
	{{#draggable-dropzone dropped="moveTaskToDay"}}
		<h1>{{day-name day.date}}</h1>
		<h2>{{format-date day.date}}</h2>
		<ul>
			{{#each task in day.sortedUnfinishedTasks itemController="task"}}
				{{draggable-task task=task class="spec-task"}}
			{{/each}}
			{{#each task in day.sortedFinishedTasks itemController="task"}}
				{{draggable-task task=task class="spec-task"}}
			{{/each}}
			<li>
				{{elastic-textarea class="spec-new-task" value=day.newTaskDescription placeholder="Add new task" insert-newline="addTask"}}
			</li>
		</ul>
		{{/draggable-dropzone}}
	</div>
	{{/each}}
</div>
